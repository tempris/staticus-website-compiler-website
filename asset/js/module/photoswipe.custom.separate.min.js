!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,(function(r){return o(e[i][1][r]||r)}),p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){"use strict";var scrollAnimationFrame,pswpElement=null,gallerySelector=".pswp-gallery",fullscreenOnOpen=!1,scrollElement=null,isSwitchingGalleries=!1,debugLogConfig={Event:{enabled:!0,color:"color: #9fbbe0"},Content:{enabled:!1,color:"color: #ffbf80"},PointerGesture:{enabled:!1,color:"color: #96d896"},EventDocumentWindow:{enabled:!1,color:"color: #eb9393"},Scroll:{enabled:!0,color:"color: #c8a8e0"},Caption:{enabled:!1,color:"color: #c5aaa2"},Fullscreen:{enabled:!1,color:"color: #f1b9d6"},URL:{enabled:!1,color:"color: #d6d859"}};function debugLog(tag){var config=debugLogConfig[tag];if(config&&config.enabled){for(var _console,_len=arguments.length,msgs=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)msgs[_key-1]=arguments[_key];(_console=console).log.apply(_console,["%c[".concat(tag,"]"),config.color].concat(msgs))}}var lightbox=new PhotoSwipeLightbox({gallery:gallerySelector,children:".pswp-gallery__item",pswpModule:PhotoSwipe});function isValidLightbox(){return lightbox&&lightbox.pswp}function openGalleryItemIndexes(galleryIndex,itemIndex){debugLog("URL","openGalleryItemIndexes, galleryIndex:",galleryIndex,", itemIndex:",itemIndex);var galleryElement=document.querySelectorAll(gallerySelector)[galleryIndex];lightbox.loadAndOpen(itemIndex,{gallery:galleryElement})}function getWindowScrollPosition(){return debugLog("Scroll","getWindowScrollPosition"),{x:window.scrollX||window.pageXOffset,y:window.scrollY||window.pageYOffset}}function getScrollElement(){debugLog("Scroll","getScrollElement");var currentItem=function(){if(debugLog("Scroll","getCurrentItem"),!isValidLightbox())return null;var currSlide=lightbox.pswp.currSlide;return currSlide&&currSlide.data?currSlide.data.element:null}();return currentItem?("figure"===currentItem.parentNode.tagName.toLowerCase()&&currentItem.parentNode.querySelector("figcaption")&&(currentItem=currentItem.parentNode),currentItem):null}function getScrollElementPositionY(){debugLog("Scroll","getScrollElementPositionY");var elementRect=scrollElement.getBoundingClientRect(),viewportScrollPosition=getWindowScrollPosition().y,viewportHeight=(debugLog("Scroll","getViewportHeight"),window.innerHeight||document.documentElement.clientHeight),targetScrollPosition=viewportScrollPosition;return(elementRect.top<0||elementRect.bottom>viewportHeight)&&(targetScrollPosition=viewportScrollPosition+elementRect.top-(viewportHeight/2-elementRect.height/2)),debugLog("Scroll","getScrollElementPositionY, targetScrollPosition:",targetScrollPosition),targetScrollPosition}function scrollToScrollElement(duration){debugLog("Scroll","scrollToScrollElement, duration: ",duration);var startPosition=getWindowScrollPosition().y,targetPosition=getScrollElementPositionY();if(debugLog("Scroll","scrollToScrollElement, startPosition: ",startPosition),debugLog("Scroll","scrollToScrollElement, targetPosition: ",targetPosition),startPosition!=targetPosition)if(0!==duration){("number"!=typeof duration||duration<0)&&(duration=lightbox.pswp.options.showAnimationDuration);var distance=targetPosition-startPosition,startTime=null;scrollAnimationFrame=requestAnimationFrame((function animation(currentTime){null===startTime&&(startTime=currentTime);var t,b,c,d,timeElapsed=currentTime-startTime,run=(t=timeElapsed,b=startPosition,c=distance,0===(d=duration)?b+c:(t/=d/2)<1?c/2*t*t+b:(t--,-c/2*(t*(t-2)-1)+b));window.scrollTo(0,run),timeElapsed<duration&&(scrollAnimationFrame=requestAnimationFrame(animation))}))}else window.scrollTo(0,targetPosition)}function jumpToScrollElement(){debugLog("Scroll","jumpToScrollElement"),scrollAnimationFrame&&(cancelAnimationFrame(scrollAnimationFrame),scrollToScrollElement(0))}function isFullscreen(){return debugLog("Fullscreen","debugLog_Fullscreen"),!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}function updateFullscreenButton(isFullscreen){debugLog("Fullscreen","updateFullscreenButton, isFullscreen:",isFullscreen);var button=document.querySelector(".pswp__button--fs");button&&(button.innerHTML=isFullscreen?'<span class="icon-module_photoswipe-fullscreen-disable"></span>':'<span class="icon-module_photoswipe-fullscreen-enable"></span>')}function exitFullscreen(){debugLog("Fullscreen","exitFullscreen"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),updateFullscreenButton(!1)}function toggleFullscreen(){debugLog("Fullscreen","toggleFullscreen"),isFullscreen()?exitFullscreen():function(){debugLog("Fullscreen","enterFullscreen");var elem=document.documentElement;elem.requestFullscreen?elem.requestFullscreen():elem.mozRequestFullScreen?elem.mozRequestFullScreen():elem.webkitRequestFullscreen?elem.webkitRequestFullscreen():elem.msRequestFullscreen&&elem.msRequestFullscreen(),updateFullscreenButton(!0)}()}debugLog("Fullscreen","isFullscreenSupported"),(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled)&&lightbox.on("uiRegister",(function(){debugLog("Fullscreen","uiRegister pswp__button--fs"),lightbox.pswp.ui.registerElement({name:"fullscreen-button",order:8,isButton:!0,tagName:"button",html:'<span class="icon-module_photoswipe-fullscreen-enable"></span>',title:"Fullscreen",className:"pswp__button--fs",onClick:toggleFullscreen})})),lightbox.on("uiRegister",(function(){debugLog("Caption","uiRegister custom-caption"),lightbox.pswp.ui.registerElement({name:"custom-caption",order:9,isButton:!1,appendTo:"root",html:"Caption text",onInit:function(el,pswp){lightbox.pswp.on("change",(function(){debugLog("Caption","custom-caption change");var currSlideElement=lightbox.pswp.currSlide.data.element,captionHTML="";if(currSlideElement){var parentElement=currSlideElement.parentElement,captionElement=null;parentElement&&"figure"===parentElement.tagName.toLowerCase()&&(captionElement=parentElement.querySelector("figcaption")),captionHTML=captionElement?captionElement.innerHTML:currSlideElement.querySelector("img").getAttribute("alt")}captionHTML?(el.innerHTML=captionHTML,el.style.display="block"):(el.innerHTML="",el.style.display="none")}))}})})),lightbox.addFilter("itemData",(function(itemData,index){var el=itemData.element;if(el){var googleMapUrl=el.dataset.googleMapUrl;return googleMapUrl&&(itemData.googleMapUrl=googleMapUrl),itemData}})),lightbox.on("contentLoad",(function(e){debugLog("Content","contentLoad",e);var content=e.content;if("google-map"===content.type){e.preventDefault(),content.element=document.createElement("div"),content.element.className="pswp__google-map-container";var iframe=document.createElement("iframe");iframe.setAttribute("allowfullscreen",""),iframe.src=content.data.googleMapUrl,content.element.appendChild(iframe)}})),lightbox.on("beforeOpen",(function(){debugLog("Event","beforeOpen"),lightbox.pswp.options.showAnimationDuration=333})),lightbox.on("firstUpdate",(function(){debugLog("Event","firstUpdate"),updateFullscreenButton(fullscreenOnOpen=isFullscreen())})),lightbox.on("change",(function(){debugLog("Event","change");var currSlide=lightbox.pswp.currSlide;if(currSlide&&currSlide.data){for(var galleryElements=document.querySelectorAll(gallerySelector),i=0;i<galleryElements.length;i++)if(galleryElements[i].contains(currSlide.data.element)){i+1;break}currSlide.index;debugLog("Scroll","processScrollElement, scrollElement: ",scrollElement=getScrollElement()),scrollToScrollElement()}})),lightbox.on("bindEvents",(function(){debugLog("Event","bindEvents"),document.querySelectorAll(".pswp__button, .pswp__counter, .pswp__zoom-level-indicator, .pswp__custom-caption, .pswp__menu").forEach((function(element){element.addEventListener("mouseenter",(function(){mouseOverUICount+=1})),element.addEventListener("mouseleave",(function(){mouseOverUICount=Math.max(mouseOverUICount-1,0)}))}))})),lightbox.on("openingAnimationStart",(function(){debugLog("Event","closingAnimationStart"),isSwitchingGalleries=!1,(pswpElement=document.querySelector(".pswp"))&&pswpElement.classList.add("pswp--animation-open")})),lightbox.on("openingAnimationEnd",(function(){debugLog("Event","closingAnimationEnd"),pswpElement&&pswpElement.classList.remove("pswp--animation-open")})),lightbox.on("close",(function(){debugLog("Event","close"),jumpToScrollElement()})),lightbox.on("closingAnimationStart",(function(){debugLog("Event","closingAnimationStart"),jumpToScrollElement(),!fullscreenOnOpen&&isFullscreen()&&exitFullscreen(),pswpElement&&pswpElement.classList.add("pswp--animation-close")})),lightbox.on("destroy",(function(){debugLog("Event","destroy"),jumpToScrollElement(),isSwitchingGalleries&&setTimeout((function(){openGalleryItemIndexes(0,0)}),1)})),lightbox.init(),window.addEventListener("resize",(function(){debugLog("EventDocumentWindow","onWindowResize"),isValidLightbox()})),window.PSWP_Open=function(gallery,item){debugLog("URL","PSWP_Open, gallery:",gallery,", item:",item),openGalleryItemIndexes(gallery,item)}},{}]},{},[1]);/* Built with Staticus Website Compiler 1.0.0 Alpha */
//# sourceMappingURL=photoswipe.custom.separate.min.js.map
